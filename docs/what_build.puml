@startuml what_build
scale 800 width
skinparam backgroundColor #FFEBDC
scale 1

skinparam Folder {
  backgroundColor Olive
  borderColor orange
}

left to right direction
package "Compile and Link" <<"Step 1/1">> as compile_and_link {
  rectangle "${MAIN_NAME}" <<main.cxx>> as main_exe
  note bottom of main_exe
    add_executable(
      ${MAIN_NAME}
      main.cxx
    )
  endnote
}

package "Compile" <<"Step 1/3">> as compile {
  rectangle "main.cxx.o" <<main.cxx>> as main_cxx
  note bottom of main_cxx
    add_library(
      ${MAIN_NAME}_o
      **OBJECT** main.cxx
    )
  endnote
}
package "Definition and Link" <<"...">> as definition_and_link {
  package "Definition" <<"Step 2/3">> as definition {
    rectangle ".." <<"${MAIN_NAME}">> as main
    note bottom of main
      add_executable(
        ${MAIN_NAME}
      )
    endnote
  }
  package "Link" <<"Step 3/3">> as link {
    rectangle "${MAIN_NAME}" <<main.cxx.o>> as main_cxx_o
    note bottom of main_cxx_o
      target_link_libraries(
        ${MAIN_NAME}
        ${MAIN_NAME}_o
      )
    endnote
  }
}

main_cxx *--> main
main *--> main_cxx_o

compile_and_link *--> compile
compile_and_link *--> definition_and_link



title
How To Build a C++ Program in CMake "basic_137"?
end title

header
  <font color=red>Tips: version 1.0</font>
endheader

center footer Develop C/C++ Application with the 'CMake'

@enduml