@startuml
scale 700 width
skinparam backgroundColor #FFEBDC
scale 1

skinparam Folder {
  backgroundColor Olive
  borderColor orange
}

'left to right direction
package "Project Root Folder" as project_cmake {
    rectangle CMakeLists.txt <<Folder: ./>> as begin

    note top of begin
        Point 3: add module path
        set(CMAKE_MODULE_PATH "${PROJECT_SOURCE_DIR}/cmake/module")
        add_subdirectory(lib)
        add_subdirectory(src)
        add_subdirectory(cmake)
    endnote
}

package "Folder 'cmake'" as cmake_dir {
    rectangle CMakeLists.txt <<Folder: ./cmake/>> as cmake_list

    note top of cmake_list
        add_subdirectory(sphinx)
    endnote
}


package "Folder 'sphinx'" as sphinx_dir {
    rectangle CMakeLists.txt <<Folder: ./cmake/sphinx/>> as sphinx_list

    note top of sphinx_list
        Point 1: use module 'FindSphinx'
        find_package(Sphinx REQUIRED)
        sphinx_add_docs(
            target_sphinx
            ${SPHINX_INPUT_DIR}
            ${SPHINX_OUTPUT_DIR}
        )
    endnote
}

Folder "~~~BRIDGE~~~ FindSphinx.cmake" {    
    cloud "./cmake/module/FindSphinx.cmake" <<Module>> as find_sphinx
    note top of find_sphinx
        Point 2: create module 'FindSphinx'
    endnote
}

package "External Software 'Sphinx'" as sphinx_build {
    cloud "/usr/local/bin/sphinx-build"
}


begin *.(0).> cmake_list
cmake_list *--> sphinx_list
sphinx_list *--> find_sphinx
find_sphinx *-right-> sphinx_build


title
    What Kind of Bridge is the 'find_package' Command?
end title

header
<font color=red>Tips: version 1.0</font>
endheader

center footer Develop C/C++ Application with the 'CMake'

@enduml